<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Globalization</title>

    <link href="../../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../../../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_bodhimobile includes_bodhimobile_MobileAPI includes_bodhimobile_MobileAPI_globalization">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://redbookconnect.github.io"> <img src="../../../images/logo.png" /> </a>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="globalization-module-reference">Globalization Module Reference</h1>

<h2 id="overview">Overview</h2>

<p>Obtains information and performs operations specific to the user&rsquo;s locale and
timezone.</p>

<h2 id="tasks">Tasks</h2>

<ul>
<li><code class="prettyprint">getPreferredLanguage</code> function</li>
<li><code class="prettyprint">getLocaleName</code> function</li>
<li><code class="prettyprint">dateToString</code> function</li>
<li><code class="prettyprint">stringToDate</code> function</li>
<li><code class="prettyprint">getDatePattern</code> function</li>
<li><code class="prettyprint">getDateNames</code> function</li>
<li><code class="prettyprint">isDayLightSavingsTime</code> function</li>
<li><code class="prettyprint">getFirstDayOfWeek</code> function</li>
<li><code class="prettyprint">numberToString</code> function</li>
<li><code class="prettyprint">stringToNumber</code> function</li>
<li><code class="prettyprint">getNumberPattern</code> function</li>
<li><code class="prettyprint">getCurrencyPattern</code> function</li>
</ul>

<h2 id="functions">Functions</h2>

<h3 id="getpreferredlanguage">getPreferredLanguage</h3>

<p><code class="prettyprint">globalization.getPreferredLanguage( successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns the language identifier string to the <em>succesCallback</em> with a
properties object as a parameter. That object should have a value property
with a String value.<br>
If there is an error getting the language, then the <em>errorCallback</em> executes.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getPreferredLanguage( function(info) {  
    alert(&quot;language: &quot; \+ info.value);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="getlocalename">getLocaleName</h3>

<p><code class="prettyprint">globalization.getLocaleName( successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns the locale identifier string to the <em>succesCallback</em> with a properties
object as a parameter. That object should have a value property with a String
value.<br>
If there is an error getting the locale, then the <em>errorCallback</em> executes.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getLocaleName( function(info) {  
    alert(&quot;locale: &quot; \+ info.value);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="datetostring">dateToString</h3>

<p><code class="prettyprint">globalization.dateToString( date, options, successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns the formatted date String via a value property accessible from the
object passed as a parameter to the <em>succesCallback</em>.<br>
If there is an error formatting the date, then the <em>errorCallback</em> executes</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_date_required</li>
</ul>

<p>Date. This parameter should be of type Date.</p>

<ul>
<li>_options_optional</li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>formatLength</em></p>

<p>Variants: short, medium, long, full</p>

<p>* <em>selector</em></p>

<p>Variants: date, time, date and time</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.dateToString( new Date(), {formatLength:&quot;short&quot;, selector:&quot;date
and time&quot;},  
function(info) {  
    alert(&quot;date: &quot; \+ info.value);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="stringtodate">stringToDate</h3>

<p><code class="prettyprint">globalization.stringToDate( dateString, options, successCallback,
errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Parses a date formatted as a string, according to the client&rsquo;s user
preferences and calendar using the time zone of the client, and returns the
corresponding date object.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>dateString</em>required</li>
</ul>

<p>Date. This parameter should be of type String.</p>

<ul>
<li>_options_optional</li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>formatLength</em></p>

<p>Variants: short, medium, long, full</p>

<p>* <em>selector</em></p>

<p>Variants: date, time, date and time</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>year</em>- The four digit year. (Number)
    * <em>month</em>- The month from (0-11). (Number)
    * <em>day</em>- The day from (1-31). (Number)
    * <em>hour</em>- The hour from (0-23). (Number)
    * <em>minute</em>- The minute from (0-59). (Number)
    * <em>second</em>- The second from (0-59). (Number)
    * <em>millisecond</em>- The milliseconds (from 0-999), not available on all platforms. (Number)</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.stringToDate( &quot;4/06/2014&quot;, {selector:&quot;date&quot;},  
function(info) {  
    alert(&quot;month:&quot; \+ info.month + &quot; day:&quot; \+ date.day + &quot; year:&quot; \+ date.year);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="getdatepattern">getDatePattern</h3>

<p><code class="prettyprint">globalization.getDatePattern( options, successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns a pattern string to format and parse dates according to the client&rsquo;s
user preferences.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_options_optional</li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>formatLength</em></p>

<p>Variants: short, medium, long, full</p>

<p>* <em>selector</em></p>

<p>Variants: date, time, date and time</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>pattern</em> - The date and time pattern to format and parse dates. The patterns follow <a href="http://unicode.org/reports/tr35/tr35-4.html">Unicode Technical Standard #35</a>. (String)
    * <em>timezone</em> - The abbreviated name of the time zone on the client. (String)
    * <em>utc_offset</em> - The current difference in seconds between the client&rsquo;s time zone and coordinated universal time. (Number)
    * <em>dst_offset</em> - The current daylight saving time offset in seconds between the client&rsquo;s non-daylight saving&rsquo;s time zone and the client&rsquo;s daylight saving&rsquo;s time zone. (Number)</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getDatePattern( {formatLength:&quot;short&quot;, selector:&quot;date and
time&quot;},  
function(info) {  
    alert(&quot;pattern: &quot; \+ info.pattern);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="getdatenames">getDateNames</h3>

<p><code class="prettyprint">globalization.getDateNames( options, successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns an array of the names of the months or days of the week, depending on
the client&rsquo;s user preferences and calendar.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_options_optional</li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>type</em></p>

<p>Variants: narrow, wide</p>

<p>* <em>item</em></p>

<p>Variants: months, days</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>value</em> - property with an Array of String values. The array features names starting from either the first month in the year or the first day of the week, depending on the option selected.</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getDateNames( { type: &quot;wide&quot;, item: &quot;months&quot; },  
function(info) {  
    for (var i = 0; i &lt; info.value.length; i++) {  
        alert(&quot;month: &quot; \+ info.value[i]);  
    }  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="isdaylightsavingstime">isDayLightSavingsTime</h3>

<p><code class="prettyprint">globalization.isDayLightSavingsTime( date, successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Indicates whether daylight savings time is in effect for a given date using
the client&rsquo;s time zone and calendar.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_date_required</li>
</ul>

<p>Date. This parameter should be of type Date.</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>dst</em> - property with a Boolean value. A true value indicates that daylight savings time is in effect for the given date, and false indicates that it is not.</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.isDayLightSavingsTime( new Date(),  
function(info) {  
    alert(&quot;dst: &quot; \+ info.dst);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="getfirstdayofweek">getFirstDayOfWeek</h3>

<p><code class="prettyprint">globalization.getFirstDayOfWeek( successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns the first day of the week according to the client&rsquo;s user preferences
and calendar.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>value</em> - property with a Number value.</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getFirstDayOfWeek( function(info) {  
    alert(&quot;day: &quot; \+ info.value);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="numbertostring">numberToString</h3>

<p><code class="prettyprint">globalization.numberToString( number, options, successCallback, errorCallback
)</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns a number formatted as a string according to the client&rsquo;s user
preferences.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><p>_number_required</p></li>
<li><p>_options_optional</p></li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>type</em></p>

<p>Variants: decimal, percent, currency</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>value</em> - property with a String value.</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.numberToString( 3.1415926, {type:&quot;decimal&quot;},  
function(info) {  
    alert(&quot;number:&quot; \+ info.value);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="stringtonumber">stringToNumber</h3>

<p><code class="prettyprint">globalization.stringToNumber( string, options, successCallback, errorCallback
)</code></p>

<h4 id="discussion">Discussion</h4>

<p>Parses a number formatted as a string according to the client&rsquo;s user
preferences and returns the corresponding number.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_string_required</li>
</ul>

<p>Number. This parameter should be of type String.</p>

<ul>
<li>_options_optional</li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>type</em></p>

<p>Variants: decimal, percent, currency</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>value</em> - property with a Number value.</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.stringToNumber( &quot;3.1415926&quot;, {type:&quot;decimal&quot;},  
function(info) {  
    alert(&quot;number:&quot; \+ info.value);  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="getnumberpattern">getNumberPattern</h3>

<p><code class="prettyprint">globalization.getNumberPattern( options, successCallback, errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns a pattern string to format and parse numbers according to the client&rsquo;s
user preferences.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_options_optional</li>
</ul>

<p>Object with key-value. Supported keys:</p>

<p>* <em>type</em></p>

<p>Variants: decimal, percent, currency</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>pattern</em> - The number pattern to format and parse numbers. The patterns follow <a href="http://unicode.org/reports/tr35/tr35-4.html">Unicode Technical Standard #35</a>. (String)
    * <em>symbol</em> - The symbol to use when formatting and parsing, such as a percent or currency symbol. (String)
    * <em>fraction</em> - The number of fractional digits to use when parsing and formatting numbers. (Number)
    * <em>rounding</em> - The rounding increment to use when parsing and formatting. (Number)
    * <em>positive</em> - The symbol to use for positive numbers when parsing and formatting. (String)
    * <em>negative</em> - The symbol to use for negative numbers when parsing and formatting. (String)
    * <em>decimal</em> - The decimal symbol to use for parsing and formatting. (String)
    * <em>grouping</em> - The grouping symbol to use for parsing and formatting. (String)</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getNumberPattern( {type:&quot;decimal&quot;},  
function(info) {  
    alert(&quot;pattern: &quot; \+ info.pattern + &quot;\n&quot; +  
        &quot;symbol: &quot; \+ info.symbol + &quot;\n&quot; +  
        &quot;fraction: &quot; \+ info.fraction + &quot;\n&quot; +  
        &quot;rounding: &quot; \+ info.rounding + &quot;\n&quot; +  
        &quot;positive: &quot; \+ info.positive + &quot;\n&quot; +  
        &quot;negative: &quot; \+ info.negative + &quot;\n&quot; +  
        &quot;decimal: &quot; \+ info.decimal + &quot;\n&quot; +  
        &quot;grouping: &quot; \+ info.grouping);},  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<h3 id="getcurrencypattern">getCurrencyPattern</h3>

<p><code class="prettyprint">globalization.getCurrencyPattern( currencyCode, successCallback,
errorCallback )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Returns a pattern string to format and parse currency values according to the
client&rsquo;s user preferences and ISO 4217 currency code.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>currencyCode</em>required</li>
</ul>

<p>The parameter should be a String of one of the ISO 4217 currency codes, for
example &lsquo;USD&rsquo;.</p>

<ul>
<li><em>succesCallback</em>optional</li>
</ul>

<p>Success callback. Called when function finished without errors</p>

<p>Callback parameter is object and can contains keys:</p>

<p>* <em>pattern</em> - The currency pattern to format and parse currency values. The patterns follow <a href="http://unicode.org/reports/tr35/tr35-4.html">Unicode Technical Standard #35</a>. (String)
    * <em>code</em> - The ISO 4217 currency code for the pattern. (String)
    * <em>fraction</em> - The number of fractional digits to use when parsing and formatting currency. (Number)
    * <em>rounding</em> - The rounding increment to use when parsing and formatting. (Number)
    * <em>decimal</em> - The decimal symbol to use for parsing and formatting. (String)
    * <em>grouping</em> - The grouping symbol to use for parsing and formatting. (String)</p>

<ul>
<li><em>errorCallback</em>optional</li>
</ul>

<p>Error Callback. Called when function return error.</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li><em><a href="kernel_promise.html">RBCPromise</a> object</em></li>
</ul>

<h4 id="sample">Sample</h4>

<p><code class="prettyprint">globalization.getCurrencyPattern( &quot;USD&quot;,  
function(info) {  
    alert(&quot;pattern: &quot; \+ info.pattern + &quot;\n&quot; +  
        &quot;code: &quot; \+ info.code + &quot;\n&quot; +  
        &quot;fraction: &quot; \+ info.fraction + &quot;\n&quot; +  
        &quot;rounding: &quot; \+ info.rounding + &quot;\n&quot; +  
        &quot;decimal: &quot; \+ info.decimal + &quot;\n&quot; +  
        &quot;grouping: &quot; \+ info.grouping);},  
}, function (error) {  
    alert(&quot;code: &quot; \+ error.code + &quot;\nmessage: &quot; \+ error.message);  
});</code>  </p>

<ul>
<li><a href="../index.html">Index</a></li>
</ul>

<hr>

<p>&copy; 2014 Red Book Connect. All rights reserved. (Last updated: 2014-06-05)</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
