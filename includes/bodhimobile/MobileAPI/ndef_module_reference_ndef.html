<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>NDEF</title>

    <link href="../../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../../../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_bodhimobile includes_bodhimobile_MobileAPI includes_bodhimobile_MobileAPI_ndef_module_reference_ndef">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://redbookconnect.github.io"> <img src="../../../images/logo.png" /> </a>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="ndef">NDEF</h1>

<h2 id="overview">Overview</h2>

<p>The <code class="prettyprint">ndef</code> object provides NDEF constants, functions for creating NdefRecords, and functions for converting data.</p>

<h2 id="tasks">Tasks</h2>

<ul>
<li><code class="prettyprint">record</code> function</li>
<li><code class="prettyprint">textRecord</code> function</li>
<li><code class="prettyprint">uriRecord</code> function</li>
<li><code class="prettyprint">absoluteUriRecord</code> function</li>
<li><code class="prettyprint">mimeMediaRecord</code> function</li>
<li><code class="prettyprint">smartPoster</code> function</li>
<li><code class="prettyprint">emptyRecord</code> function</li>
<li><code class="prettyprint">encodeMessage</code> function</li>
<li><code class="prettyprint">decodeMessage</code> function</li>
</ul>

<h2 id="constants">Constants</h2>

<p>// see android.nfc.NdefRecord for documentation about constants
    // http://developer.android.com/reference/android/nfc/NdefRecord.html
    TNF_EMPTY: 0x0,
    TNF_WELL_KNOWN: 0x01,
    TNF_MIME_MEDIA: 0x02,
    TNF_ABSOLUTE_URI: 0x03,
    TNF_EXTERNAL_TYPE: 0x04,
    TNF_UNKNOWN: 0x05,
    TNF_UNCHANGED: 0x06,
    TNF_RESERVED: 0x07,</p>

<p>RTD_TEXT: [0x54], // &ldquo;T&rdquo;
    RTD_URI: [0x55], // &ldquo;U&rdquo;
    RTD_SMART_POSTER: [0x53, 0x70], // &ldquo;Sp&rdquo;
    RTD_ALTERNATIVE_CARRIER: [0x61, 0x63], // &ldquo;ac&rdquo;
    RTD_HANDOVER_CARRIER: [0x48, 0x63], // &ldquo;Hc&rdquo;
    RTD_HANDOVER_REQUEST: [0x48, 0x72], // &ldquo;Hr&rdquo;
    RTD_HANDOVER_SELECT: [0x48, 0x73], // &ldquo;Hs&rdquo;</p>

<h2 id="functions">Functions</h2>

<h3 id="record">record</h3>

<p><code class="prettyprint">ndef.record( tnf, type, id, payload )</code></p>

<h4 id="discussion">Discussion</h4>

<p>Creates a JSON representation of a NDEF Record.</p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_tnf_required</li>
</ul>

<p>3-bit TNF (Type Name Format) - use one of the TNF_* constants</p>

<ul>
<li>_type_required</li>
</ul>

<p>byte array, containing zero to 255 bytes, must not be null</p>

<ul>
<li>_id_required</li>
</ul>

<p>byte array, containing zero to 255 bytes, must not be null</p>

<ul>
<li>_payload_required</li>
</ul>

<p>byte array, containing zero to (2 ** 32 - 1) bytes, must not be null</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="textrecord">textRecord</h3>

<p>Helper that creates an NDEF record containing plain text.</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.textRecord( text, languageCode, id )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_text_required</li>
</ul>

<p>String of text to encode</p>

<ul>
<li><em>languageCode</em>optional</li>
</ul>

<p>ISO/IANA language code. Examples: “fi”, “en-US”, “fr- CA”, “jp”.</p>

<ul>
<li>_id_optional</li>
</ul>

<p>byte array, containing zero to 255 bytes</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="urirecord">uriRecord</h3>

<p>Helper that creates a NDEF record containing a URI.</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.uriRecord( uri, id )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_uri_required</li>
</ul>

<p>String represents URI</p>

<ul>
<li>@id_optional</li>
</ul>

<p>byte array, containing zero to 255 bytes</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="absoluteurirecord">absoluteUriRecord</h3>

<p>Helper that creates a NDEF record containing an absolute URI.
An Absolute URI record means the URI describes the payload of the record.
For example a SOAP message could use &ldquo;http://schemas.xmlsoap.org/soap/envelope/&rdquo;
as the type and XML content for the payload.
Absolute URI can also be used to write LaunchApp records for Windows.
See 2.4.2 Payload Type of the NDEF Specification
http://www.nfc-forum.org/specs/spec_list#ndefts
Note that by default, Android will open the URI defined in the type
field of an Absolute URI record (TNF=3) and ignore the payload.
Windows do not open the browser for TNF=3.
To write a URI as the payload use ndef.uriRecord(uri)</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.absoluteUriRecord( uri, payload, id )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_uri_required</li>
</ul>

<p>String represents URI</p>

<ul>
<li>_payload_optional</li>
</ul>

<p>byte array, containing zero to (2 ** 32 - 1) bytes</p>

<ul>
<li>@id_optional</li>
</ul>

<p>byte array, containing zero to 255 bytes</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="mimemediarecord">mimeMediaRecord</h3>

<p>Helper that creates a NDEF record containing an mimeMediaRecord.</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.mimeMediaRecord( mimeType, payload, id )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_mimeType_required</li>
</ul>

<p>Mime type</p>

<ul>
<li>_payload_optional</li>
</ul>

<p>byte array, containing zero to (2 ** 32 - 1) bytes</p>

<ul>
<li>@id_optional</li>
</ul>

<p>byte array, containing zero to 255 bytes</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="smartposter">smartPoster</h3>

<p>Helper that creates an NDEF record containing an Smart Poster.</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.smartPoster( ndefRecords, id )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>ndefRecords</em>required</li>
</ul>

<p>array of NDEF Records</p>

<ul>
<li>_id_optional</li>
</ul>

<p>byte array, containing zero to 255 bytes</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="emptyrecord">emptyRecord</h3>

<p>Helper that creates an empty NDEF record.</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.emptyRecord()</code></p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>JSON representation of a NDEF Record.</li>
</ul>

<h3 id="encodemessage">encodeMessage</h3>

<p>Encodes an NDEF Message into bytes that can be written to a NFC tag.</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.encodeMessage( ndefRecords )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li><em>ndefRecords</em>required</li>
</ul>

<p>array of NDEF Records</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>byte array ( see NFC Data Exchange Format (NDEF) http://www.nfc-forum.org/specs/spec_list/ )</li>
</ul>

<h3 id="decodemessage">decodeMessage</h3>

<p>Decodes an array bytes into an NDEF Message</p>

<h4 id="discussion">Discussion</h4>

<p><code class="prettyprint">ndef.decodeMessage( bytes )</code></p>

<h4 id="arguments">Arguments</h4>

<ul>
<li>_bytes_required</li>
</ul>

<p>an array bytes read from a NFC tag</p>

<h4 id="return-value">Return Value</h4>

<ul>
<li>array of NDEF Records ( see NFC Data Exchange Format (NDEF) http://www.nfc-forum.org/specs/spec_list/ )</li>
</ul>

<hr>

<p>&copy; 2014 Red Book Connect. All rights reserved. (Last updated: 2014-10-28)</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
